{% extends 'base/base.html' %}
{% block content %}
    <div>
            <h2 class="text-3xl font-serif font-bold mb-8">Add new Blog</h2>
            <form class="space-y-6" action="{% url 'add_blog' %}" method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <label for="title" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">title</label>
                  <input
                    type="text"
                    id="title"
                    name="title"
                    value="{{ blog.title | default:'' }}"
                    class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500"
                    required
                  />
                </div>
                <div>
                  <label for="small_content" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">small_content</label>
                  <input
                    type="text"
                    id="small_content"
                    value="{{ blog.small_content | default:'' }}"
                    name="small_content"
                    class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500"
                    required
                  />
                </div>
                <div>
                  <label for="slug" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">slug</label>
                  <input
                    type="text"
                    id="slug"
                    value="{{ blog.slug | default:'' }}"
                    name="slug"
                    class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500"
                    required
                  />
                </div>
                <div>
                  <label for="home_page_show" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">home_page_show</label>
                  <input
                    type="checkbox"
                    id="home_page_show"
                    {% if blog.home_page_show %} checked {% endif %}
                    value="{{ blog.home_page_show | default:'' }}"
                    name="home_page_show"
                    class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500"
                    required
                  />
                </div>
                  <label for="featured_blog" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">featured_blog</label>
                  <input
                    type="checkbox"
                    id="featured_blog"
                    {% if blog.featured_blog %} checked {% endif %}
                    value="{{ blog.featured_blog | default:'' }}"
                    name="featured_blog"
                    class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500"
                    required
                  />
                </div>
                </div>
                  <label for="img" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">img</label>
                  <input
                    type="file"
                    id="img"
                    value="{{ blog.img | default:'' }}"
                    name="img"
                    class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500"
                    required
                  />
                </div>
                <div>
                  <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Category</label>
                  <select name="category" id="">
                    {% for category in categories %}
                      <option value="{{ category.id }}">
                        {% if blog.category.id == category.id %} selected {% endif %}
                        {{ category.title }}
                      </option>
                    {% endfor %}
                  </select>
                </div>
                <div>
                  <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">Tag</label>
                  <select name="tag" id="">
                    {% for t in tag %}
                      <option value="{{ t.id }}">

                        {% if blog and t in blog.tag.all %} selected {% endif %}
                        {{ t.title }}
                      </option>
                    {% endfor %}
                  </select>
                </div>
              </div>
              
              <div>
                <label for="content" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">content</label>
                <input
                  type="text"
                  id="content"
                  value="{{ blog.content | default:'' }}"
                  name="content"
                  class="w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500"
                  required
                />
              </div>
              <div>
                <button type="submit" class="btn-primary px-6 py-3">
                  Add Blog
                </button>
              </div>
            </form>
        </div>
{% endblock %}